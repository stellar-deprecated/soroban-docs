---
sidebar_position: 2
title: Liquidity Pool Dapp Challenge
description:Deploy a dApp, add liquididty! Beat the Challenge!
---

import mintToken from "../../static/img/mintToken.png";
import approveTokenMint from "../../static/img/approveTokenMint.png";
import updatedBalance from "../../static/img/updatedBalance.png";
import back100 from "../../static/img/back100.png";
import success from "../../static/img/success.png";
import backedResult from "../../static/img/backedResult.png";
import deployedDApp from "../../static/img/deployedDApp.png";
import { ParentChallengeForm } from "../../src/components/atoms/challenge-form";

# liqudity pool Dapp Challenge

This challenge will guide you through the process of building and shipping a liqudity pool dapp on Stellar using Soroban. You will learn how to deploy smart contracts to futurenet, and how to interact with them through a web frontend. In this context, the term "ship" refers to finalizing the development process of your dapp, ensuring that it functions as expected, and is accessible for user interaction and testing through a hosted frontend. However, it's crucial to clarify that despite its functionality, the dapp is not promoted nor intended for deployment in a production-level setting on futurenet. The challenge is designed for educational purposes, helping you understand how a dapp can be built and interacted with, with further customization and development, it has the potential to evolve into a full-fledged, ready-to-use liqudity pool solution.

## Checkpoint 0: üì¶ Install üìö

Start by installing the required dependencies.

Required:

- `soroban-cli alias`: [Download Soroban Alias](https://github.com/stellar/soroban-example-dapp#install-dependencies)
- `docker` (Standalone backend requires it): [Download Docker](https://www.docker.com/products/docker-desktop)
- `Node` v18: [Download Node](https://nodejs.org/en/download/)
- `Freighter Wallet`: [Freighter Wallet](https://freighter.app/)

First, Clone the soroban example dapp repo and navigate to the `liqudity-pool` directory:

```sh
git clone https://github.com/stellar/soroban-dapps-challenge
cd soroban-dapps-challenge/liqudity-pool
yarn
```

Next, make sure that your Docker daemon is running by either opening [Docker Desktop](https://www.docker.com/products/docker-desktop)(recommended) or following the instructions provided [here](https://docs.docker.com/config/daemon/start/) and proceed to the next step.

## Checkpoint 1: üöÄ Launch Backend üåê

Open your Docker Desktop app and make sure it is running. Then run the following command to start the backend:

```sh
docker run --rm -it \
   -p 8000:8000 \
   --name stellar \
   stellar/quickstart:soroban-dev@sha256:8a99332f834ca82e3ac1418143736af59b5288e792d1c4278d6c547c6ed8da3b \
   --futurenet \
   --enable-soroban-rpc
```

and wait for it to start.

## Checkpoint 2: üé¨ Deploy Smart Contracts

Now that the backend environment is set up, we need to deploy our smart contracts to in a sandbox environment.

In another terminal, load the contracts and initialize them on the Standalone network by running the following commands:

```sh
./initialize.sh standalone
```

If the command runs successfully, your terminal will return a series of messages notifying you about the successful initialization of the contracts and the post-installation sequence.

```sh
Contract deployed succesfully with ID: CBXHU5BWWTOCZRYX3DMSSKCFG7B3K2YG2I5F75ALPQ6GCY6ZES2XKLTI
Deploy the liqudity pool contract
Contract deployed succesfully with ID: CBKY7UN5VGD4LIQFOBOTSUSQWK67BZZTA23NIEVWSWRR5SAT26JQN2BN
Initialize the abundance token contract

Initialize the liqudity pool contract

Done

> soroban-example-dapp@0.1.0 build-contracts
...
```

## Checkpoint 3: ü§ù Connect the Frontend to the Backend

First, navigate to the frontend folder and run the development server:

```sh
make setup && make start_dev
```

> Note: This may require admin privileges on some systems.

Now open your browser and visit [http://localhost:3000](http://localhost:3000). You should be able to see the frontend of your dapp.

> Note: Follow the instructions below and ensure that you have funded your wallet address that you intend to use from browser, otherwise the dapp display will be blank and a 'Account not found' will be printed on browser's console only.

Now that we have the frontend running, it's time to connect it with our smart contracts.

First, be sure that you have properly configured Freighter Wallet by following the instructions [here](../guides/wallets#connect-a-wallet-freighter).

Then, add the Standalone network in Freighter:

- Name: `Standalone`
- URL: `http://localhost:8000/soroban/rpc`
- Passphrase: `Standalone Network ; February 2017`
- Allow HTTP connection: `Enabled`
- Switch to this network: `Enabled`

Next, add some Standalone network lumens to your Freighter wallet by doing the following:

- Copy the address for your freighter wallet.
- Visit `http://localhost:8000/friendbot?addr=<your_address>`

> Note: These are test lumens for use with your local network and cannot be used on Futurenet or Mainnet

## Checkpoint 4: üè¶ Mint Tokens for the liqudity pool

Open the dapp frontend and click on the "Mint 100 ABND" button.

<img src={mintToken} width="40%" />

You should see a popup from Freighter asking you to sign the transaction. Click on "Approve" and wait for the transaction to be confirmed.

<img src={approveTokenMint} width="40%" />

You should see an updated balance in the pledge component.

<img src={updatedBalance} width="40%" />

> Note: These are test tokens for use with your local network and cannot be used on Futurenet or Mainnet.

## Checkpoint 5: üí∞ Deposit into the liqudity pool

Now that you have your wallet set up, let's fund the liqudity pool.

Open the frontend and click on the "Back this project" button. You should see a popup from Freighter asking you to sign the transaction.

<img src={back100} width="40%" />

Click on "Approve" and wait for the transaction to be confirmed.

Once the transaction is confirmed, you should see a success message.

<img src={success} width="40%" />

You should see an updated balance in the amount you have pledged in the pledge component.

## Checkpoint 6: üîÑ Make a Swap

Now that you have funded the liqudity pool, let's make a swap.

Open the frontend and click on the "Swap" button. You should see a popup from Freighter asking you to sign the transaction.

<img src={back100} width="40%" />

Click on "Approve" and wait for the transaction to be confirmed.

Once the transaction is confirmed, you should see updated balances in the user dashboard.

<img src={backedResult} width="40%" />

## Checkpoint 7: ‚§¥Ô∏è Make a Withdrawal

Now that you have funded the liqudity pool, let's make a withdrawal.

Open the frontend and click on the "Withdraw" button. You should see a popup from Freighter asking you to sign the transaction.

<img src={back100} width="40%" />

Click on "Approve" and wait for the transaction to be confirmed.

Once the transaction is confirmed, you should see updated balances in the user dashboard.

## Checkpoint 8: üö¢ Ship it! üöÅ

Now that your dapp is fully functional locally, next prepare it for deployment on Futurenet.

Stop the development server by pressing `ctrl+c` in the terminal where it is running.

If you are running docker, now is a good time to stop the stellar and soroban preview containers.

```sh
docker stop stellar soroban-preview
```

Then, run the following commands to initialize the contracts on Futurenet:

```sh
./initialize.sh futurenet
```

Then, navigate to the frontend directory and run the development server:

```sh
make start_dev
```

Now, open your browser and visit [http://localhost:3000](http://localhost:3000).

Ensure that you are connected to Futurenet and you should be able to see the frontend of your dapp!

Next, you will use the Vercel cli to complete our deployment.

> Note: If you don‚Äôt already have a [Vercel account], you will need to create one and link it to your github account.

[Vercel account]: https://vercel.com/login

First install the Vercel cli:

```sh
npm i global vercel
```

Then, run the following command to deploy your dapp:

```sh
npx vercel
```

Then, continue through the prompts(you will not need to modify any settings) until you reach the completion prompt similar to the following:

```sh
Vercel CLI 30.1.1
üîó  Linked to julian-dev28/soroban-example-dapp (created .vercel)
üîç  Inspect: https://vercel.com/julian-dev28/soroban-example-dapp/C1YZVQSqh6WcyR1uvxz8q2tW1tjD [2s]
‚úÖ  Production: https://soroban-example-dapp-rho.vercel.app [42s]
```

You can now visit the preview link to see your deployed dapp! üéâ

<img src={deployedDApp} width="90%" />

You will need to add some Futurenet network lumens to your Freighter wallet to interact with the deployed dapp. Visit [https://laboratory.stellar.org/#account-creator?network=futurenet](https://laboratory.stellar.org/#account-creator?network=futurenet), and follow the instructions to create your freighter account on Futurenet.

## Checkpoint 9: ‚úÖ Complete the Challenge!

Submit your public url to the challenge form.

<ParentChallengeForm courseId={0} />

## Checkpoint 10: üí™ Flex!

Invite a friend to try out your dapp and ask them to provide feedback!

## ‚öîÔ∏è Side Quests

üåê Explore [Stellar Laboratory] to inspect your account assets on Futurenet.

You should see something like this:

```json
  "balances": [
    {
      "balance": "100.0000000",
      "limit": "922337203685.4775807",
      "buying_liabilities": "0.0000000",
      "selling_liabilities": "0.0000000",
      "last_modified_ledger": 148108,
      "is_authorized": true,
      "is_authorized_to_maintain_liabilities": true,
      "asset_type": "credit_alphanum4",
      "asset_code": "ABND",
      "asset_issuer": "GBUGENT4FK4Y6FZNZEEGVZJLCHKNES23FRVOPPOI62RUF4WRSNOTSZV4"
    },
  ]
```

<br />

üç¥ [Fork the liqudity pool repo] and make your own changes to the dapp.

Customize the code and submit a pull request for the liqudity pool Dapp challenge. You can experiment with new fundraising strategies, improve the user interface, or integrate additional payment options.

Take this opportunity to showcase your skills and make your mark on the liqudity pool Dapp. Good luck!

[Stellar Laboratory]: https://laboratory.stellar.org/#explorer?network=futurenet
[Fork the liqudity pool repo]: https://github.com/stellar/soroban-dapps-challenge/fork

## üìö User Workflows Checklist

During this exercise you should be able to:

- Clone the example repo (liqudity pool Dapp)
- Choose your target amount and deadline
- Deploy your contract to Futurenet
- Deploy the example web ui somewhere (e.g. netlify, vercel, surge, etc.)

Then via the web UI, you should be able to:

- Connect your wallet
- See your current balance(s)
- See allowed assets
- Deposit an allowed asset
- Swap assets
- Withdraw an allowed asset
- See your transaction(s) appear on the page as the transactions are confirmed.
